<h1 align="center">
  <br>
  <a href="https://worldhappiness.report/"><img src="data:image/png;base64,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" alt="SECOP" width="300"></a>
  <br>
Análisis de contratos gubernamentales en Colombia
  <br>
</h1>

<h4 align="center">Aprendizaje automático para predicción de valor de contratos, agrupamiento de palabras clave y detección de anomalías. 
</h4>

<p align="center">
   <a href='https://github.com/shivamkapasia0' target="_blank"><img alt='scikit-learn' src='https://img.shields.io/badge/scikit-learn-100000?style=for-the-badge&logo=scikit-learn&logoColor=FFFFFF&labelColor=FF6A00&color=1882EA'/></a> <a href='https://pypi.org/project/wordcloud/' target="_blank"><img alt='wordcloud' src='https://img.shields.io/badge/Word-Cloud-100000?style=for-the-badge&logo=wordcloud&logoColor=white&labelColor=9CFFD2&color=E9FF80'/></a> <a href='https://www.nltk.org/' target="_blank"><img alt='nltk' src='https://img.shields.io/badge/Nltk-100000?style=for-the-badge&logo=nltk&logoColor=white&labelColor=0C249D&color=0C249D'/></a> <a href='https://radimrehurek.com/gensim/' target="_blank"><img alt='gensim' src='https://img.shields.io/badge/gensim-100000?style=for-the-badge&logo=gensim&logoColor=white&labelColor=0C249D&color=00BBD4'/></a> <a href='https://pandas.pydata.org/' target="_blank"><img alt='pandas' src='https://img.shields.io/badge/pandas-100000?style=for-the-badge&logo=pandas&logoColor=2D0090&labelColor=9D7BEA&color=D2C0FA'/></a> 
</p>

<p align="center">
  <a href="#key-features">Key Features</a> •
  <a href="#how-to-use">How To Use</a> •
  <a href="#credits">Credits</a> •
  <a href="#license">License</a> 
</p>

![screenshot](https://winter-anchovy-50e.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F0b33107d-3986-4b8c-92cd-4762a2bcc607%2Fimag.png?id=096b43d2-303f-433f-90e5-fb28af546e68&table=block&spaceId=12eea25e-0790-4a8f-aa1c-b60f93c02da2&width=1140&userId=&cache=v2)

## Características principales

Este proyecto de machine learning tiene como objetivo analizar a detalle la información desplegada por la página oficial de datos abiertos del gobierno de Colombia y del Sistema Electrónico para la Contratación Pública (SECOP), todo con la finalidad de encontrar posibles anomalías, agrupar texto clave del objetivo de los contratos y predecir los gastos. 
El conjunto de datos es tomado de [SECOP Integrado | Gastos Gubernamentales](https://www.datos.gov.co/Gastos-Gubernamentales/SECOP-Integrado/rpmr-utcd). A continuación mostramos las características clave del proyecto:


* El conjunto de datos consta de 1996395 contratos (filas) por 21 columnas. Las columnas constan de la siguiente información:
	 * Nivel Entidad
	 * Nombre de la Entidad
	 * NIT de la Entidad
	 * Estado del Proceso
	 * Modalidad de Contratación
	 * Objeto a Contratar
	 * Tipo de Contrato
	 * Fecha de Firma del Contrato
	 * ID Contrato
	 * ID Proceso
	 * Valor Contrato
	 * Nom Raz Social Contratista
	 * URL Contrato
	 * Departamento Entidad
	 * Municipio Entidad
	 * Objeto del Proceso
	 * Fecha Inicio Ejecucion
	 * Fecha Fin Ejecucion
	 * Tipo Contrato (Es una característica duplicada, pero existe)
	 * Origen
	 * Documento Proveedor

* Tras limpiar datos duplicados, no relevantes o mal insertados, redujimos el tamaño del conjunto de datos en un 85%.

* La predicción de gastos utiliza un modelo de regresón con bosques aleatorios, cuyo input es tomado gracias a `one-hot-encoding` de las siguientes características

	* Nombre de la Entidad	
	* Estado del Proceso	
	* Objeto a Contratar	
	* Municipio Entidad	
	* Tipo Contrato


* Usamos módulos de  **Scikit-Learn** como:
  - `sklearn.ensemble.RandomForestRegressor`: Predictor de valor de contrato.
  -  `sklearn.metrics.r2_score` : Métrica para evaluar el desempeño del predictor.
* También se usaron técnicas de procesamiento de lenguaje natural con **GenSim** y **NLTK**. Obteniendo palabras clave como
	 - mantenimiento
	 - prestacion
	 - municipio
	 - profesionales
	 - suministro

* Finalmente, tomamos los contratos que se salían del 95% de los datos asociados a una distribución normal. Obteniendo 55 contratos anómalos (No por ello producto de acciones fraudulentas):
![screenshot](https://winter-anchovy-50e.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fff46babf-1721-4bcf-85c3-c72aae4c75cf%2FUntitled.png?id=9ca482b0-7866-4d96-8bb8-28942f0310d5&table=block&spaceId=12eea25e-0790-4a8f-aa1c-b60f93c02da2&width=2000&userId=&cache=v2)

## ¿Cómo usar?

Para ejecutar de manera local este proyecto, siga estos pasos:

```bash
# Clone el repositorio
$ git clone https://github.com/santiagoahl/analisis-contratos-gov.git

# Entre a la carpeta del repositorio
$ cd analisis-contratos-gov

```

## Creditos
Este proyecto hace uso de las siguientes librerías y conjuntos de datos:

- [Pandas](https://pandas.pydata.org/)
- [Sci-kit Learn](https://scikit-learn.org/)
- [NLTK](https://www.nltk.org/)
- [GenSim](https://radimrehurek.com/gensim/)
- [Word Cloud](https://pypi.org/project/wordcloud/)
- [Dataset](https://www.datos.gov.co/Gastos-Gubernamentales/SECOP-Integrado/rpmr-utcd)


## Licencia

MIT

---

> Web Site [santiagoal.super.site](https://santiagoal.super.site/) &nbsp;&middot;&nbsp;
> GitHub [@santiagoahl](https://github.com/santiagoahl) &nbsp;&middot;&nbsp;
> Twitter [@sahumadaloz](https://twitter.com/sahumadaloz)
